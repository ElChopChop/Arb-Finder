<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AliExpress ↔ eBay Arbitrage Finder</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
h1 { text-align: center; }
#results { margin-top: 20px;}
.product { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
</style>
</head>
<body>

<h1>Arbitrage Opportunities: AliExpress → eBay</h1>

<label for="category">Choose Category:</label>
<select id="category">
  <option value="">Select one...</option>
  <option value="electronics">Electronics</option>
  <option value="automotive">Automotive</option>
  <option value="health_beauty">Health & Beauty</option>
  <option value="home_garden">Home & Garden</option>
</select>

<button id="searchBtn">Search</button>

<div id="results"></div>

<script>
document.getElementById("searchBtn").addEventListener("click", async () => {
  const cat = document.getElementById("category").value;
  if(!cat) return alert("Please pick a category.");

  document.getElementById("results").innerHTML = "Loading...";

  try {
    const resp = await fetch(`https://YOUR_API_ENDPOINT/arbitrage?category=${cat}`);
    const data = await resp.json();

    if (!data.items || !data.items.length) {
      document.getElementById("results").innerHTML = "No results found.";
      return;
    }

    const html = data.items.map(item => `
      <div class="product">
        <h3>${item.title}</h3>
        <p><strong>AliExpress:</strong> <a href="${item.aliexpress.link}" target="_blank">Buy</a> — $${item.aliexpress.price}</p>
        <p><strong>eBay Sold:</strong> <a href="${item.ebay.link}" target="_blank">View Sold</a> — $${item.ebay.price}</p>
        <p><strong>Profit:</strong> $${item.profit.toFixed(2)}</p>
      </div>
    `).join("");

    document.getElementById("results").innerHTML = html;

  } catch(err) {
    console.error(err);
    document.getElementById("results").innerHTML = "Error loading results."
  }
});
</script>

</body>
</html>
